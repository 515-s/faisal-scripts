--// Faisal Script UI + Discord Webhook Logger
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local MarketplaceService = game:GetService("MarketplaceService")
local player = Players.LocalPlayer

-- GUI
local gui = Instance.new("ScreenGui", player.PlayerGui)
gui.Name = "FaisalUI"
gui.ResetOnSpawn = false

-- Main Frame
local main = Instance.new("Frame", gui)
main.Size = UDim2.fromOffset(180, 120)
main.Position = UDim2.new(0.02, 0, 0.35, 0)
main.BackgroundColor3 = Color3.fromRGB(15,15,15)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0,10)

-- Top Bar
local top = Instance.new("Frame", main)
top.Size = UDim2.new(1,0,0,26)
top.BackgroundColor3 = Color3.fromRGB(25,25,25)
top.BorderSizePixel = 0
Instance.new("UICorner", top).CornerRadius = UDim.new(0,10)

-- Title
local title = Instance.new("TextLabel", top)
title.Size = UDim2.new(1,-26,1,0)
title.Position = UDim2.new(0,8,0,0)
title.BackgroundTransparency = 1
title.Text = "faisal-script"
title.TextColor3 = Color3.fromRGB(230,230,230)
title.TextSize = 12
title.Font = Enum.Font.GothamBold
title.TextXAlignment = Enum.TextXAlignment.Left

-- Arrow Button
local arrow = Instance.new("TextButton", top)
arrow.Size = UDim2.fromOffset(26,26)
arrow.Position = UDim2.new(1,-26,0,0)
arrow.Text = "▼"
arrow.TextSize = 12
arrow.Font = Enum.Font.GothamBold
arrow.TextColor3 = Color3.fromRGB(220,220,220)
arrow.BackgroundTransparency = 1

-- Content
local content = Instance.new("Frame", main)
content.Position = UDim2.new(0,0,0,26)
content.Size = UDim2.new(1,0,1,-26)
content.BackgroundTransparency = 1

-- مثال عنصر صغير
local example = Instance.new("TextLabel", content)
example.Size = UDim2.new(1,-10,0,20)
example.Position = UDim2.new(0,5,0,5)
example.BackgroundTransparency = 1
example.Text = "ready"
example.TextSize = 11
example.Font = Enum.Font.Gotham
example.TextColor3 = Color3.fromRGB(180,180,180)

-- Toggle
local opened = true
local openSize = UDim2.fromOffset(180,120)
local closeSize = UDim2.fromOffset(180,26)

local function toggle()
    opened = not opened
    arrow.Text = opened and "▼" or "▲"
    content.Visible = opened
    TweenService:Create(main,
        TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {Size = opened and openSize or closeSize}
    ):Play()
end

arrow.MouseButton1Click:Connect(toggle)

-- Discord Webhook Logger
local WEBHOOK_URL = "https://discord.com/api/webhooks/1466552183444078706/KK4pLVoGu0K_NQPy8-0I47-pQvKTr27zMP-1-3LNYbhdN3Yr288aFXROAsMljtRFevgK"
local req = (syn and syn.request) or http_request or request or (fluxus and fluxus.request)

if req then
    task.spawn(function()
        local gameName = "Unknown"
        pcall(function()
            gameName = MarketplaceService:GetProductInfo(game.PlaceId).Name
        end)
        pcall(function()
            req({
                Url = WEBHOOK_URL,
                Method = "POST",
                Headers = {["Content-Type"] = "application/json"},
                Body = HttpService:JSONEncode({
                    username = "Roblox Logger",
                    embeds = {{
                        title = "Player Executed Script",
                        fields = {
                            {name = "Username", value = player.Name, inline = true},
                            {name = "UserId", value = tostring(player.UserId), inline = true},
                            {name = "Game", value = gameName, inline = false}
                        },
                        timestamp = DateTime.now():ToIsoDate()
                    }}
                })
            })
        end)
    end)
end
