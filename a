local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")

-- GUI
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "RemoteDebugger"

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.fromScale(0.45,0.6)
frame.Position = UDim2.fromScale(0.03,0.2)
frame.BackgroundColor3 = Color3.fromRGB(20,20,20)

local scroll = Instance.new("ScrollingFrame", frame)
scroll.Size = UDim2.fromScale(1,1)
scroll.CanvasSize = UDim2.new(0,0,0,0)
scroll.ScrollBarThickness = 8

local layout = Instance.new("UIListLayout", scroll)
layout.Padding = UDim.new(0,4)

local count = 0

local function addRow(text)
	count += 1

	local row = Instance.new("Frame", scroll)
	row.Size = UDim2.new(1,-5,0,30)
	row.BackgroundColor3 = Color3.fromRGB(35,35,35)

	local label = Instance.new("TextLabel", row)
	label.Size = UDim2.new(0.85,0,1,0)
	label.Text = text
	label.TextScaled = true
	label.BackgroundTransparency = 1
	label.TextColor3 = Color3.new(1,1,1)

	local copy = Instance.new("TextButton", row)
	copy.Size = UDim2.new(0.15,0,1,0)
	copy.Position = UDim2.new(0.85,0,0,0)
	copy.Text = "Copy"
	copy.BackgroundColor3 = Color3.fromRGB(60,60,60)

	copy.MouseButton1Click:Connect(function()
		setclipboard(text)
	end)

	scroll.CanvasSize = UDim2.new(0,0,0,count*34)
end

-- ربط كل الريموتات
for _,v in pairs(ReplicatedStorage:GetDescendants()) do
	if v:IsA("RemoteEvent") then
		v.OnClientEvent:Connect(function(...)
			local args = {...}
			addRow(v:GetFullName().." | args: "..#args)
		end)
	end
end

print("Remote Debugger Ready")
