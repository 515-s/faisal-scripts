local UIS = game:GetService("UserInputService")
local plr = game.Players.LocalPlayer

-- واجهة صغيرة مره
local gui = Instance.new("ScreenGui", plr.PlayerGui)

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.fromOffset(140,35)
frame.Position = UDim2.new(0.5,-70,1,-45)
frame.BackgroundColor3 = Color3.fromRGB(40,40,40)
Instance.new("UICorner", frame)

local box = Instance.new("TextBox", frame)
box.Size = UDim2.fromOffset(55,25)
box.Position = UDim2.fromOffset(5,5)
box.Text = "50"
box.TextScaled = true

local btn = Instance.new("TextButton", frame)
btn.Size = UDim2.fromOffset(70,25)
btn.Position = UDim2.fromOffset(65,5)
btn.Text = "OK"
btn.TextScaled = true

local clicks = 1
local armed = false

btn.MouseButton1Click:Connect(function()
	clicks = math.clamp(tonumber(box.Text) or 1,1,150)
	armed = true
	btn.Text = "اضغط"
end)

-- التكرار الحقيقي
UIS.InputBegan:Connect(function(input,gpe)
	if gpe or not armed then return end
	if input.UserInputType ~= Enum.UserInputType.MouseButton1
	and input.UserInputType ~= Enum.UserInputType.Touch then return end

	armed = false
	btn.Text = "OK"

	local delay = 2/clicks

	for i = 1, clicks-1 do
		task.wait(delay)
		game:GetService("ContextActionService"):BindActionAtPriority(
			"fake",
			function() return Enum.ContextActionResult.Pass end,
			false,
			3000,
			input.UserInputType
		)
	end
end)
