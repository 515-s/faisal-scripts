local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- ScreenGui يحتوي على جميع التسميات
local overlayGui = Instance.new("ScreenGui")
overlayGui.Name = "GUIOverlayDebugger"
overlayGui.ResetOnSpawn = false
overlayGui.Parent = player:WaitForChild("PlayerGui")

-- دالة لعمل Overlay لكل عنصر
local function createOverlayLabel(guiObject)
	if not guiObject:IsA("GuiObject") then return end
	if not guiObject.AbsoluteSize or guiObject.AbsoluteSize == Vector2.new(0,0) then return end
	if guiObject == overlayGui then return end

	local pos, size = guiObject.AbsolutePosition, guiObject.AbsoluteSize

	-- نص صغير في منتصف العنصر
	local label = Instance.new("TextLabel")
	label.Size = UDim2.new(0, size.X, 0, 18) -- ارتفاع صغير
	label.Position = UDim2.fromOffset(pos.X, pos.Y)
	label.BackgroundTransparency = 1 -- لا خلفية
	label.TextColor3 = Color3.new(1,1,1) -- أبيض
	label.TextStrokeTransparency = 0 -- إطار أسود حول النص
	label.TextStrokeColor3 = Color3.new(0,0,0)
	label.TextScaled = true
	label.Font = Enum.Font.SourceSansBold
	label.Text = guiObject:GetFullName()
	label.TextXAlignment = Enum.TextXAlignment.Center
	label.TextYAlignment = Enum.TextYAlignment.Center
	label.ZIndex = 999
	label.Parent = overlayGui
end

-- نعرض كل العناصر الظاهرة حاليًا
for _,v in ipairs(player.PlayerGui:GetDescendants()) do
	if v.Visible then
		createOverlayLabel(v)
	end
end

-- نضيف أي عنصر جديد يظهر
player.PlayerGui.DescendantAdded:Connect(function(v)
	task.wait(0.05)
	if v.Visible then
		createOverlayLabel(v)
	end
end)
